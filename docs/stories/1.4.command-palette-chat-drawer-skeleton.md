---
title: "Story 1.4: command-palette-chat-drawer-skeleton"
---

# Status

Draft

# Story

As a non‑tech user,
I want to open a Command Palette and use a Chat Drawer skeleton,
so that I can quickly find actions and follow guided steps without deep UI navigation.

# Acceptance Criteria

1. Command Palette mở bằng ⌘K; tìm agent/command/template (stub)
2. Chat Drawer toggle; khung elicitation 1–9 (UI) chưa nối BE
3. Focus management & keyboard navigation cơ bản

# Tasks / Subtasks

- [ ] Command Palette (AC: 1, 3)
  - [ ] Hotkey: ⌘K (macOS) và Ctrl+K (Win/Linux) để mở/đóng palette [Source: docs/prd/epic-1-foundation-nontech-guided-shell.md#story-14-command-palette-chat-drawer-skeleton]
  - [ ] Scope tìm kiếm (stub): agents + commands + templates; dữ liệu giả lập [Source: docs/prd/interaction-paradigms.md]
  - [ ] UI list kết quả: highlight mục chọn; Enter xác nhận; Esc đóng; Tab/Shift+Tab tuần tự [Source: docs/prd/accessibility.md]
  - [ ] A11y: role="dialog", aria-modal, trap focus; return focus về trigger sau khi đóng [Source: docs/prd/accessibility.md]
  - [ ] Hành vi xác nhận (stub): hiển thị toast/note với target (agent/command/template) [Source: docs/prd/functional-fr.md]

- [ ] Chat Drawer (AC: 2, 3)
  - [ ] Toggle ở Header (góc phải) để mở/đóng drawer [Source: docs/prd/interaction-paradigms.md]
  - [ ] Skeleton nội dung: khung elicitation 1–9 (UI), chưa nối BE [Source: docs/prd/epic-1-foundation-nontech-guided-shell.md#story-14-command-palette-chat-drawer-skeleton]
  - [ ] A11y: trap focus khi mở; Esc để đóng; return focus về trigger; aria phù hợp [Source: docs/prd/accessibility.md]
  - [ ] Keyboard nav: Tab/Shift+Tab trong vùng; focus ring rõ ràng [Source: docs/prd/accessibility.md]

- [ ] i18n & Copy
  - [ ] Văn bản trong Palette/Drawer theo ngôn ngữ hiện tại (vi/en), mặc định `vi` [Source: docs/prd/ux-vision.md]

- [ ] Smoke Verification
  - [ ] ⌘K/Ctrl+K mở/đóng palette; di chuyển bằng Arrow lên/xuống; Enter chọn; Esc đóng [Source: docs/prd/testing-requirements.md]
  - [ ] Toggle Chat Drawer mở/đóng; trap focus đúng; return focus về nút toggle [Source: docs/prd/testing-requirements.md]

# Dev Notes

- Previous Story Insights
  - Story 1.2 đã thiết lập i18n (vi mặc định) và keyboard nav cơ bản. Story 1.4 cần kế thừa cơ chế này cho văn bản và tương tác trong Palette/Drawer.

- Data Models
  - No specific guidance found in architecture docs

- API Specifications
  - No specific guidance found in architecture docs

- Component Specifications
  - No specific guidance found in architecture docs

- File Locations
  - No specific guidance found in architecture docs

- Testing Requirements
  - No specific guidance found in architecture docs
  - Tham chiếu yêu cầu kiểm thử: [Source: docs/prd/testing-requirements.md]

- Technical Constraints
  - No specific guidance found in architecture docs
  - Ràng buộc liên quan (PRD): a11y (WCAG AA, keyboard, focus, aria), i18n vi/en; files‑only ở MVP [Source: docs/prd/accessibility.md, docs/prd/additional-assumptions.md]

### Project Structure Notes
- Không tìm thấy `docs/architecture/unified-project-structure.md`. Bám `docs/prd/repository-structure.md` (monorepo, giữ `docs/` và `.bmad-core/...`).

## Testing

- Approach: Unit + Integration (UI), lint + type‑check [Source: docs/prd/testing-requirements.md]
- Key scenarios:
  - ⌘K/Ctrl+K mở palette; Arrow/Enter hoạt động; Esc đóng và trả focus
  - Toggle Chat Drawer mở/đóng; focus trap đúng; i18n văn bản đúng ngôn ngữ
- Success criteria:
  - Đáp ứng AC 1–3; smoke test pass; lint/type‑check/build pass

# Change Log

| Date       | Version | Description                                      | Author |
|------------|---------|--------------------------------------------------|--------|
| 2025-08-09 | 0.1     | Khởi tạo bản nháp Story 1.4 (Draft)             | Bob    |

# Dev Agent Record

## Agent Model Used

_TBD_

## Debug Log References

_TBD_

## Completion Notes List

_TBD_

## File List

_TBD_

# QA Results

_TBD_
